<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>china map3 </title>
    <script src="./assets/js/jquery.min.js"></script>
    <script src="./assets/js/echarts.min.js"></script>
    <script src="./assets/js/china.js"></script>

    <style>
        #echartMap {
            width: 800px;
            height: 600px;
            margin: 0 auto;
            background: #ccc;
        }
    </style>
</head>

<body>
    <div id="echartMap"></div>


    <script>
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echartMap'));
        var geoCoordMap = {
            "海南": [110.17, 19.92],
            "河南": [113.700339, 34.751827],
            "河北": [114.54095, 38.058913],
            "湖北": [114.289984, 30.5942],
            "广东": [113.293215, 23.102603],
            "湖南": [113.03042, 28.188898],
            "江西": [115.911671, 28.658012],
            "黑龙江": [126.629804, 45.774197],
            "四川": [104.112035, 30.630737],
            "安徽": [117.321109, 31.850184],
        }

        var data = [
            {
                name: '海南',
                value: 99925.73
            },
            {
                name: '河南',
                value: 17737.01
            },
            {
                name: '河北',
                value: 13177.64
            },
            {
                name: '湖北',
                value: 12174.96
            },
            {
                name: '广东',
                value: 8230.15
            },
            {
                name: '湖南',
                value: 8173.05
            },
            {
                name: '江西',
                value: 7423.08
            },
            {
                name: '黑龙江',
                value: 6829.69
            },
            {
                name: '四川',
                value: 6158.43
            },
            {
                name: '安徽',
                value: 5930.80
            },
        ];


        var convertData = function (data) {
            var res = [];
            for (var i = 0; i < data.length; i++) {
                var geoCoord = geoCoordMap[data[i].name];
                if (geoCoord) {
                    res.push({
                        name: data[i].name,
                        value: geoCoord.concat(data[i].value)
                    });
                }
            }
            return res;
        };

        console.log(convertData(data));

        option = {

            series: [{
                    type: 'map',
                    name: '',
                    mapType: 'china',
                    roam: true,
                    label: {
                        normal: {
                            show: true, //显示省份标签
                            textStyle: {
                                color: "blue"
                            } //省份标签字体颜色
                        },
                        emphasis: { //对应的鼠标悬浮效果
                            show: false,
                            textStyle: {
                                color: "#800080"
                            }
                        }
                    },
                    // aspectScale: 0.75, //这个参数用于 scale 地图的长宽比。最终的 aspect 的计算方式是：geoBoundingRect.width / geoBoundingRect.height * aspectScale
                    // zoom: 1.2, //当前视角的缩放比例。
                    // itemStyle: {
                    //     normal: {
                    //         borderWidth: .5, //区域边框宽度
                    //         borderColor: '#009fe8', //区域边框颜色
                    //         areaColor: "#ffefd5", //区域颜色
                    //     },
                    //     emphasis: { //鼠标滑过地图高亮的相关设置
                    //         borderWidth: .5,
                    //         borderColor: '#4b0082',
                    //         areaColor: "#ffdead",
                    //     }
                    // }
                },


                // {
                //     name: '点',
                //     type: 'scatter',
                //     coordinateSystem: 'geo',
                //     symbol: 'pin',
                //     symbolSize: function (val) {
                //         var a = (maxSize4Pin - minSize4Pin) / (max - min);
                //         var b = minSize4Pin - a * min;
                //         b = maxSize4Pin - a * max;
                //         return a * val[2] + b;
                //     },
                //     label: {
                //         normal: {
                //             show: true,
                //             textStyle: {
                //                 color: '#fff',
                //                 fontSize: 9,
                //             }
                //         }
                //     },
                //     itemStyle: {
                //         normal: {
                //             color: '#F62157', //标志颜色
                //         }
                //     },
                //     zlevel: 6,
                //     data: convertData(data),
                // },


                // {
                //     name: 'Top 5',
                //     type: 'effectScatter',
                //     coordinateSystem: 'geo',
                //     data: convertData(data.sort(function (a, b) {
                //         return b.value - a.value;
                //     }).slice(0, 5)),
                //     symbolSize: function (val) {
                //         return val[2] / 5000;
                //     },
                //     showEffectOn: 'render',
                //     rippleEffect: {
                //         brushType: 'stroke'
                //     },
                //     hoverAnimation: true,
                //     label: {
                //         normal: {
                //             formatter: '{b}',
                //             position: 'right',
                //             show: false
                //         }
                //     },
                //     itemStyle: {
                //         normal: {
                //             color: '#05C3F9',
                //             shadowBlur: 10,
                //             shadowColor: '#05C3F9'
                //         }
                //     },
                //     zlevel: 1
                // },

            ]

        }

        myChart.setOption(option);
    </script>
</body>

</html>